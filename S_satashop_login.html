
<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>S.satashop — Login</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial;margin:0;padding:0;background:#f5f5f7}
  .wrap{max-width:380px;margin:80px auto;padding:20px;background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
  h2{text-align:center;color:#ff6f00}
  input{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #ddd;box-sizing:border-box}
  button{width:100%;padding:10px;margin-top:12px;border:none;background:#ff6f00;color:white;border-radius:8px;cursor:pointer}
  .small{text-align:center;font-size:13px;margin-top:8px}
  a{color:#ff6f00;text-decoration:none}
</style>
</head>
<body>
<div class="wrap">
  <h2>S.satashop Login</h2>
  <input type="text" id="username" placeholder="ชื่อผู้ใช้">
  <input type="password" id="password" placeholder="รหัสผ่าน">
  <button id="loginBtn">เข้าสู่ระบบ</button>
  <div class="small">ยังไม่มีบัญชี? <a href="#" id="registerLink">สมัครสมาชิก</a></div>
</div>

<script>
// Initialize users if not exist
if(!localStorage.getItem('ss_users')){
    const users = [{username:'admin',password:'admin123',email:'admin@example.com',role:'admin'}];
    localStorage.setItem('ss_users',JSON.stringify(users));
}

function saveUsers(users){ localStorage.setItem('ss_users',JSON.stringify(users)); }
function loadUsers(){ return JSON.parse(localStorage.getItem('ss_users')||'[]'); }

document.getElementById('loginBtn').onclick = ()=>{
    const u = document.getElementById('username').value.trim();
    const p = document.getElementById('password').value;
    const users = loadUsers();
    const user = users.find(x=>x.username===u && x.password===p);
    if(user){
        localStorage.setItem('ss_logged_in',u);
        alert('เข้าสู่ระบบสำเร็จ');
        window.location.href='S_satashop_shop.html';
    }else{
        alert('ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง');
    }
};

document.getElementById('registerLink').onclick = ()=>{
    const u = prompt('ชื่อผู้ใช้');
    if(!u){ return alert('ต้องกรอกชื่อผู้ใช้'); }
    const p = prompt('รหัสผ่าน');
    if(!p){ return alert('ต้องกรอกรหัสผ่าน'); }
    const e = prompt('อีเมล (ไม่บังคับ)')||'';
    let users = loadUsers();
    if(users.find(x=>x.username===u)){ return alert('มีชื่อผู้ใช้นี้แล้ว'); }
    users.push({username:u,password:p,email:e,role:'user'});
    saveUsers(users);
    alert('สมัครสมาชิกเรียบร้อยแล้ว สามารถเข้าสู่ระบบได้ทันที');
};
</script>
</body>
</html>
